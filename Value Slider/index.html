<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Source = https://codepen.io/dsr/pen/rNLxBxw -->
    <!-- https://freefrontend.com/javascript-range-sliders/ -->
    <!-- https://www.smashingmagazine.com/2021/12/create-custom-range-input-consistent-browsers/ -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>
    <div class="range-input">
        <div class="year-chooser-title">Select Year</div>
        <input type="range" min="2017" max="2020" value="2020" step="1">
        <div class="value">
          <div></div>
        </div>
        <ul class="range-labels">
            <li class="range-labels-item item-2017 always-show start" data-index="1">2017</li>
            <li class="range-labels-item item-2018" data-index="2">2018</li>
            <li class="range-labels-item item-2019" data-index="3">2019</li>
            <li class="range-labels-item item-2020 always-show active end" data-index="4">2020</li>
        </ul>
      </div>
      <!-- <script src="assets/script.js"> 
      </script>
      <script>
      sliderValShow(); 
      </script> -->
<script>
function sliderValShow() {
    const rangeInput = document.querySelector('.range-input input');
    const labelsContainer = document.querySelector('.range-labels');
    const labels = document.querySelectorAll('.range-labels-item');

    // Add a click event listener to the labels container (event delegation)
    labelsContainer.addEventListener('click', function (event) {
        // Check if the clicked element is a label with the "range-labels-item" class
        if (event.target.classList.contains('range-labels-item')) {
            // Get the year value from the clicked label
            const selectedYear = parseInt(event.target.textContent);

            // Set the value of the input to the clicked year
            rangeInput.value = selectedYear;

            // Remove the "active" class from all labels
            labels.forEach(label => {
                label.classList.remove('active');
            });

            // Add the "active" class to the clicked label
            event.target.classList.add('active');
        }
    });

    // Add an input event listener to update the labels when the input value changes
    rangeInput.addEventListener('input', function () {
        // Get the selected year value
        const selectedYear = parseInt(rangeInput.value);

        // Remove the "active" class from all labels
        labels.forEach(label => {
            label.classList.remove('active');
        });

        // Add the "active" class to the corresponding label
        const correspondingLabel = document.querySelector(`.item-${selectedYear}`);

        if (correspondingLabel) {
            correspondingLabel.classList.add('active');
        }
    });
}

// Call the function when the page loads
sliderValShow();

// Call the function when the page loads
sliderValShow();

</script>
    </body>
</html>